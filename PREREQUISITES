#!/bin/sh

# Copyright 2015 Google Inc. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Preconditions:

# protoc compiler > 2.6.1 from https://github.com/google/protobuf
apt-get install build-essential
git clone git@github.com:google/protobuf.git $GOPATH/src/github.com/google/protobuf
cd $GOPATH/src/github.com/google/protobuf
./autogen.sh
./configure
make
make check
make install
ldconfig

# go code gen plugin at https://github.com/golang/protobuf
go get -u github.com/golang/protobuf/proto
go get -u github.com/golang/protobuf/protoc-gen-go
go get -u github.com/gorilla/mux
go get -u golang.org/x/net/context
go get -u golang.org/x/crypto/openpgp

# Non go packages

# Proto3 types.  Needs to go in $(GOPATH)/src.
git clone git@github.com:google/googleapis.git $GOPATH/src/github.com/google/googleapis
ln -s $GOPATH/src/github.com/google/googleapis/google $GOPATH/src/google

#Shell PATH must include $GOPATH/bin
